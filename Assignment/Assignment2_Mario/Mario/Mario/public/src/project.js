window.__require=function t(e,o,i){function n(r,s){if(!o[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var p="function"==typeof __require&&__require;if(!s&&p)return p(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+r+"'")}}var l=o[r]={exports:{}};e[r][0].call(l.exports,function(t){return n(e[r][1][t]||t)},l,l.exports,t,e,o,i)}return o[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({GameEngine:[function(t,e,o){"use strict";cc._RF.push(e,"5d53fFOVl9Jy6v3nRLOpt3/","GameEngine"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,c=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e.bgm=null,e.timer=null,e.camera=null,e.background=null,e.lowerbound=null,e.life=null,e.playerlife=5,e.time=300,e.pause=!1,e}return __extends(e,t),e.prototype.onLoad=function(){this.life.y=this.timer.y},e.prototype.start=function(){this.gameStart()},e.prototype.update=function(t){this.camera.x=this.player.x-400,this.background.x=this.player.x,this.timer.x=this.background.x+100,this.life.x=this.timer.x-100,this.lowerbound.x=this.background.x},e.prototype.updateHighestScore=function(t){},e.prototype.updateScore=function(t){},e.prototype.updateLife=function(t){this.playerlife+=t,this.playerlife=Math.min(Math.max(this.playerlife,-1),99),-1==this.playerlife&&this.gameOver()},e.prototype.timecount=function(){this.time-=1,this.timer.getComponent("cc.Label").string="TIME "+this.time.toString(),0==this.time&&this.gameOver()},e.prototype.gameStart=function(){this.schedule(this.timecount,1),cc.audioEngine.playMusic(this.bgm,!0)},e.prototype.gamePause=function(){this.pause=!this.pause,this.pause?(this.pause=!1,cc.game.resume()):(this.pause=!0,this.scheduleOnce(function(){cc.game.pause()},.1))},e.prototype.lose=function(){},e.prototype.gameOver=function(){this.updateLife(-1)},e.prototype.gameEnd=function(){cc.game.end()},__decorate([c(cc.Node)],e.prototype,"player",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"bgm",void 0),__decorate([c(cc.Node)],e.prototype,"timer",void 0),__decorate([c(cc.Node)],e.prototype,"camera",void 0),__decorate([c(cc.Node)],e.prototype,"background",void 0),__decorate([c(cc.Node)],e.prototype,"lowerbound",void 0),__decorate([c(cc.Node)],e.prototype,"life",void 0),e=__decorate([n],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"dfb2eo3lO5MwqbzLMYDX92/","Player"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,c=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerSpeed=0,e.gameMgr=null,e.lifect=null,e.anim=null,e.up=!1,e.down=!1,e.left=!1,e.right=!1,e.onGround=!1,e.isDead=!1,e.isBig=!1,e.rebornPosition=cc.v2(200,50),e.A=40,e.coins=0,e.scores=0,e.life=0,e}return __extends(e,t),e.prototype.onLoad=function(){this.anim=this.getComponent("cc.Animation"),cc.director.getPhysicsManager().enabled=!0,this.anim=this.getComponent(cc.Animation)},e.prototype.start=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.reborn()},e.prototype.update=function(t){this.playerMovement(t),this.playerAnimation()},e.prototype.onKeyDown=function(t){t.keyCode==cc.macro.KEY.left?(this.left=!0,this.right=!1,this.anim.play("move")):t.keyCode==cc.macro.KEY.right?(this.right=!0,this.left=!1,this.anim.play("move")):t.keyCode==cc.macro.KEY.up?(this.up=!0,this.down=!1):t.keyCode==cc.macro.KEY.down&&(this.down=!0,this.up=!1)},e.prototype.onKeyUp=function(t){t.keyCode==cc.macro.KEY.right?this.right=!1:t.keyCode==cc.macro.KEY.left?this.left=!1:t.keyCode==cc.macro.KEY.up?this.up=!1:t.keyCode==cc.macro.KEY.down&&(this.down=!1)},e.prototype.reborn=function(){this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),this.node.position=this.rebornPosition},e.prototype.lifecount=function(){this.lifect.getComponent("cc.Label").string="LIFE"+this.life.toString(),-1==this.life&&this.gameMgr.getComponent("GameManager").lose()},e.prototype.playerMovement=function(t){this.isDead?(this.playerSpeed=0,this.left=!1,this.right=!1,this.up=!1):(this.up&&this.onGround?this.playerJump():this.left?this.playerSpeed>0?this.playerSpeed=-1:this.playerSpeed>-100?this.playerSpeed-=this.A*t:this.playerSpeed=-100:this.right?this.playerSpeed<0?this.playerSpeed=1:this.playerSpeed<100?this.playerSpeed+=this.A*t:this.playerSpeed=100:(this.down,this.playerSpeed=0),this.node.x+=this.playerSpeed*t)},e.prototype.playerJump=function(){this.onGround=!1,this.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,500),this.anim.play("jump")},e.prototype.updateLife=function(t){this.life+=t,this.life=Math.min(Math.max(this.life,-1),99),cc.log(this.life),-1==this.life&&cc.director.loadScene("lose")},e.prototype.playerRecover=function(){this.updateLife(1)},e.prototype.playerDie=function(){this.updateLife(-1),-1!=this.life&&this.reborn()},e.prototype.playerAnimation=function(){this.node.scaleX=this.left?-1:this.right?1:this.node.scaleX},e.prototype.onBeginContact=function(t,e,o){"flag"==o.node.name?cc.director.loadScene("win"):-1==t.getWorldManifold().normal.y?1==o.tag?this.onGround=!0:2==o.tag?(this.isDead=!0,this.playerDie()):3==o.tag||4==o.tag&&(this.isDead=!0,this.playerDie()):(t.getWorldManifold().normal.y,1==o.tag?this.onGround=!0:2==o.tag?(this.isDead=!0,this.playerDie()):3==o.tag?(this.isDead=!0,this.playerDie()):4==o.tag&&(this.isDead=!0,this.playerDie()))},__decorate([c()],e.prototype,"playerSpeed",void 0),__decorate([c(cc.Node)],e.prototype,"gameMgr",void 0),__decorate([c(cc.Node)],e.prototype,"lifect",void 0),e=__decorate([n],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],camera:[function(t,e,o){"use strict";cc._RF.push(e,"8463fFRVrlP8Kt48K3pwdGD","camera"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,c=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.map=null,e.boundingBox=null,e.screenMiddle=null,e.minX=0,e.maxX=0,e.minY=0,e.maxY=0,e.isRun=!0,e}return __extends(e,t),e.prototype.onLoad=function(){this.boundingBox=new cc.Rect(0,0,100,100);var t=cc.winSize;this.screenMiddle=new cc.Vec2(t.width/2,t.height/2),this.minX=-(this.boundingBox.xMax-t.width),this.maxX=this.boundingBox.xMin,this.minY=-(this.boundingBox.yMax-t.height),this.maxY=this.boundingBox.yMin},e.prototype.update=function(){this.node.x=this.target.x-400},__decorate([c(cc.Node)],e.prototype,"target",void 0),__decorate([c(cc.Node)],e.prototype,"map",void 0),e=__decorate([n],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],changescene:[function(t,e,o){"use strict";cc._RF.push(e,"e60f239xM1OGpTzM6eL2YiN","changescene"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,c=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){setTimeout(function(){cc.director.loadScene("menu")},2e3)},e=__decorate([n],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],flower:[function(t,e,o){"use strict";cc._RF.push(e,"f141fhIwRNNoL+qTouuLRM+","flower"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,c=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.animateState=null,e.rebornPos=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.anim=this.getComponent(cc.Animation)},e.prototype.start=function(){this.rebornPos=this.node.position,this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,10),this.animateState=this.anim.play("Turtle_anim")},e.prototype.update=function(t){this.movement()},e.prototype.resetPos=function(){this.node.position=this.rebornPos,this.node.scaleX=1,this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,10)},e.prototype.movement=function(){this.node.position.y<this.rebornPos.y?this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,10):this.node.position.y>this.rebornPos.y+40&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-10))},e.prototype.onBeginContact=function(t,e,o){},e=__decorate([n],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],menu:[function(t,e,o){"use strict";cc._RF.push(e,"05a54WDu0JEl4uJ6SzNQp9e","menu"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,c=i.property,r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){this.button.node.on("click",this.callback,this)},e.prototype.callback=function(t){cc.director.loadScene("stage1-1")},__decorate([c(cc.Button)],e.prototype,"button",void 0),e=__decorate([n],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],mush:[function(t,e,o){"use strict";cc._RF.push(e,"28ef6XmU0xM07oZevkUwEB1","mush"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,c=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.animateState=null,e.rebornPos=null,e.isDead=!0,e}return __extends(e,t),e.prototype.onLoad=function(){this.anim=this.getComponent(cc.Animation)},e.prototype.start=function(){this.rebornPos=this.node.position,this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(-50,0),this.isDead=!1,this.animateState=this.anim.play("Turtle_anim")},e.prototype.update=function(t){this.isDead&&(this.resetPos(),this.isDead=!1),this.movement()},e.prototype.resetPos=function(){this.node.position=this.rebornPos,this.node.scaleX=1,this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(-50,0)},e.prototype.movement=function(){this.node.position.x<this.rebornPos.x-100?this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(50,0):this.node.position.x>this.rebornPos.x+100&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(-50,0))},e.prototype.onBeginContact=function(t,e,o){"player"==o.node.name&&1==t.getWorldManifold().normal.y&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),this.isDead=!0)},e=__decorate([n],e)}(cc.Component));o.default=c,cc._RF.pop()},{}]},{},["GameEngine","Player","camera","changescene","flower","menu","mush"]);