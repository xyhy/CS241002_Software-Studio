{"version":3,"sources":["anima.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class anima extends cc.Component {\n\n    @property(cc.Node)\n    player: cc.Node = null;\n\n    @property({type:cc.AudioClip})\n    walk_sound: cc.AudioClip = null;\n\n    @property({type:cc.AudioClip})\n    thunder: cc.AudioClip = null;\n\n    @property({type:cc.AudioClip})\n    rain: cc.AudioClip = null;\n\n    @property(cc.Node)\n    girl: cc.Node = null;\n    // LIFE-CYCLE CALLBACKS:\n    @property(cc.Prefab)\n    dialog: cc.Prefab = null;\n\n    @property({type:cc.AudioClip})\n    bgm: cc.AudioClip = null;\n    // onLoad () {}\n    private scene_name;\n\n    private anim_girl;\n\n    private anim_player;\n\n    private after_3_first: boolean = false;\n    \n    onLoad () {\n        cc.audioEngine.playMusic(this.bgm, true);\n    }\n\n    start () {\n        this.scene_name = cc.director.getScene().name;\n        this.anim_girl = this.girl.getComponent(cc.Animation);\n        this.anim_player = this.player.getComponent(cc.Animation);\n        if(this.scene_name == 'animation1'){\n            this.run_anim1();\n        }else if(this.scene_name == 'animation2'){\n            this.run_anim2();\n        }else if(this.scene_name == 'animation3'){\n            this.run_anim3();\n        }else if(this.scene_name == 'animation4'){\n            this.run_anim4();\n        }\n\n    }\n    run_anim4(){\n        var dialog_box = cc.instantiate(this.dialog);\n        dialog_box.parent = cc.find('Canvas/Main Camera');\n        dialog_box.getComponent('dialogue').init([{role:'我', content:'我會在下面接住你的！'},\n        {role:'女孩', content: '你....'},\n        {role:'我', content: '這一切都是我的錯，所以我不會讓他再發生！'},\n        {role:'女孩', content: '我已經死去的事實無法改變了。'},\n        {role:'我', content: '為什麼？！可是...'},\n        {role:'女孩', content: '這並不是你的錯。'},\n        {role:'女孩', content: '不要永遠沉在你的愧疚裡，在現實裡你終究得去過你的人生。'},\n        {role:'女孩', content: '好啦，這個夢境也差不多要崩塌了。你趕快往上爬逃離這個地方吧，加油，再見！'}]);\n\n        this.girl.runAction(cc.moveTo(3, 547, 473));\n        this.scheduleOnce(()=>{\n            this.girl.runAction(cc.sequence(cc.moveTo(2, 547, 223), cc.callFunc(()=>{\n                this.girl.getChildByName('falling_wind').active = false;\n                var s = this.anim_girl.play('standing');\n                s.on('finished', ()=>{\n                    this.anim_girl.play('idle');\n                }, this);\n            })));\n        }, 7);\n\n    }\n    run_anim3(){\n        cc.find('thunder').active = false;\n        cc.audioEngine.playEffect(this.rain, true);\n        this.schedule(function(){\n            cc.find('thunder').active = true;\n            cc.find('thunder').runAction(cc.sequence(cc.fadeIn(0), cc.fadeOut(0.2)));\n            this.scheduleOnce(function(){cc.find('thunder').active = false;}, 0.2)\n        }, 5)\n        this.schedule(function(){cc.audioEngine.playEffect(this.thunder, false)}, 5);\n        this.after_3_first = false;\n        var dialog_box = cc.instantiate(this.dialog);\n        dialog_box.parent = cc.find('Canvas/Main Camera');\n        dialog_box.getComponent('dialogue').init([{role:'我', content:'地板有點滑呢....啊啊啊啊！'},{role:'女孩', content: '小心啊！啊啊啊啊啊！'}, {role:'女孩', content: '不要放開！'}, \n            {role:'我', content: '可惡！雨水太滑了！'}, {role:'女孩', content: '不...不要....'}]);\n\n        var call_b = cc.callFunc(()=>{\n            var dialog_box2 = cc.instantiate(this.dialog);\n            dialog_box2.parent = cc.find('Canvas/Main Camera');\n            dialog_box2.getComponent('dialogue').init([{role:'我', content:'什...什麼？'},{role:'女孩', content: '這全都是你的錯，是你害我摔死的！'}, {role:'女孩', content: '還沒搞清楚嗎？這裡是你的夢境，罪惡感的夢！'}, \n            {role:'我', content: '！'}, {role:'女孩', content: '你就永遠困在這個夢境裡愧疚下去吧，這是你應得的！我恨你！'},\n            {role:'我', content: '我全都想起來了！都是我不小心才..'}, {role:'我', content: '不！如果這是我的夢，我才不會再讓事情發生！'}]);\n\n        });\n        this.scheduleOnce(()=>{\n            this.girl.active = true;\n        }, 10);\n        this.scheduleOnce(()=>{\n            this.player.runAction(cc.sequence(cc.fadeIn(2), call_b));\n        }, 12);\n        this.scheduleOnce(()=>{\n            this.girl.runAction(cc.fadeOut(2));\n        }, 17);\n    }\n    run_anim2(){\n        var act1 = cc.moveBy(3, 500, 0);\n        var call_b = cc.callFunc(()=>{\n            this.girl.scaleX *= -1;\n        });\n        var call_b2 = cc.callFunc(()=>{\n            this.anim_player.play('playerb_idle');\n            var dialog_box = cc.instantiate(this.dialog);\n            dialog_box.parent = cc.find('Canvas/Main Camera');\n            dialog_box.getComponent('dialogue').init([{role:'女孩', content:'嘿，你來啦！'},{role:'女孩', content: '走吧，目標是山頂。'}, {role:'我', content: '.....'}]);\n        });\n        \n        this.node.runAction(call_b);\n        this.player.runAction(cc.sequence(act1, call_b2));\n        this.scheduleOnce(()=>{\n            this.anim_player.play('playerb_run');\n            this.girl.scaleX *= -1;\n            this.anim_girl.play('run');\n        }, 10);\n    }\n    run_anim1(){\n        var act1 = cc.moveBy(3, 1200, 0);\n        var act2 = cc.moveBy(2, 500, 0);\n        cc.audioEngine.playEffect(this.walk_sound, true);\n        var call_b = cc.callFunc(()=>{\n            this.anim_player.play('playerb_idle');\n        });\n        var call_b2 = cc.callFunc(()=>{\n            var dialog_box = cc.instantiate(this.dialog);\n            dialog_box.parent = cc.find('Canvas/Main Camera');\n            dialog_box.getComponent('dialogue').init([{role:'我', content:'你是誰？？'},{role:'我', content: '等等！'}]);\n        });\n        this.girl.runAction(act1);\n        this.player.runAction(cc.spawn(cc.sequence(act2, call_b), call_b2));\n        this.scheduleOnce(()=>{\n            cc.audioEngine.stopAllEffects();\n        }, 4);\n    }\n    \n    animation_finish(){\n        this.scheduleOnce(()=>{\n            switch (cc.director.getScene().name[9]) {\n                case \"1\": cc.find(\"SceneManager\").getComponent(\"scene_manage\").go_animation(\"animation2\");break;\n                case \"2\": cc.find(\"SceneManager\").getComponent(\"scene_manage\").go_next_level(\"2-1\", \"from_right\");break;\n                case \"3\": \n                    if(this.after_3_first) cc.find(\"SceneManager\").getComponent(\"scene_manage\").go_next_level(\"3-1\", \"from_right\");\n                    else this.after_3_first = true;\n                    break;\n                case \"4\": cc.find(\"SceneManager\").getComponent(\"scene_manage\").go_animation(\"final\");\n                default:\n                    break;\n            }\n        }, 0.5);\n    }\n    onDestroy() {\n        cc.audioEngine.stopAllEffects();\n    }\n}\n"]}