{"version":3,"sources":["../../../../assets/Script/assets/Script/moving_platform.ts"],"names":[],"mappings":";;;;AAAA,oBAAoB;AACpB,kFAAkF;AAClF,yFAAyF;AACzF,mBAAmB;AACnB,4FAA4F;AAC5F,mGAAmG;AACnG,8BAA8B;AAC9B,4FAA4F;AAC5F,mGAAmG;;AAE7F,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAA4C,kCAAY;IADxD;QAAA,qEA6BC;QA1BsB,oBAAc,GAAY,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QACrC,kBAAY,GAAY,EAAE,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QAChC,YAAM,GAAW,CAAC,CAAC;QACnB,eAAS,GAAY,IAAI,CAAC;QACxC,eAAS,GAAY,KAAK,CAAC;;IAsBvC,CAAC;IApBG,8BAAK,GAAL;QACI,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC;QACzC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAG,IAAI,CAAC,SAAS;YAAE,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAChD,CAAC;IAED,0CAAiB,GAAjB;QACI,IAAI,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAC,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACzD,IAAI,QAAQ,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,GAAC,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAC7D,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,sBAAsB,EAAE,CAAC,CAAC;QAC3C,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,sBAAsB,EAAE,CAAC,CAAC;QAC7C,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,aAAa,CAAC,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACpE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,uCAAc,GAAd,UAAe,OAAyB,EAAE,IAAgB,EAAE,KAAiB;QACzE,IAAG,CAAC,IAAI,CAAC,SAAS,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,QAAQ,EAAC;YAC9C,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;IACL,CAAC;IAzBkB;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;0DAAsC;IACrC;QAAlB,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;wDAAoC;IAChC;QAArB,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;kDAAoB;IACnB;QAArB,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;qDAA2B;IAL/B,cAAc;QADlC,OAAO;OACa,cAAc,CA4BlC;IAAD,qBAAC;CA5BD,AA4BC,CA5B2C,EAAE,CAAC,SAAS,GA4BvD;kBA5BoB,cAAc","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class MovingPlatform extends cc.Component {\n\n    @property(cc.Vec2) start_position: cc.Vec2 = cc.v2(0,0);\n    @property(cc.Vec2) end_position: cc.Vec2 = cc.v2(0,0);\n    @property(cc.Integer) period: number = 2;\n    @property(cc.Boolean) automatic: boolean = true;\n    private is_moving: boolean = false;\n\n    start () {\n        this.node.position = this.start_position;\n        this.is_moving = false;\n        if(this.automatic) this.run_moving_action();\n    }\n\n    run_moving_action(){\n        let go_act = cc.moveTo(this.period/2, this.end_position);\n        let back_act = cc.moveTo(this.period/2, this.start_position);\n        go_act.easing(cc.easeQuinticActionInOut());\n        back_act.easing(cc.easeQuinticActionInOut());\n        this.node.runAction(cc.repeatForever(cc.sequence(go_act,back_act)));\n        this.is_moving = true;\n    }\n\n    onBeginContact(contact:cc.PhysicsContact, self:cc.Collider, other:cc.Collider){\n        if(!this.is_moving && other.node.name == \"player\"){\n            this.run_moving_action();\n        }\n    }\n}\n"]}